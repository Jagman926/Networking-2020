char buffer [512]

get input()
save input to buffer
check for enter input()

while(packet handling)
{
	if(enter pressed)
		// variables
		char written [512]
		char toUser [512]
		char message [512]
		// transfer buffer to empty for next frame
		written = buffer
		buffer = null
		//parse buffer to determine command
		parse written (command, toUser, message)
		//command stuff
		if(command 1)
			###
		else if(command 2)
			###
		else if (command 3)
			###
		else 
			invalid command
}